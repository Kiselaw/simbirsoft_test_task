# Тестовое задание в SimbirSoft

# Cтек

- Python 3.11.1
- Selenium 4.14.0
- Pytest 7.4.3
- pytest-xdist 3.3.1

## Запуск и проверка

Для проверки задания необходимо создать виртуальное окружение и установить зависимости с помощью следующих команд:

**Создание виртуального окружения и его активация (необходимо находиться в директории с окружением)**: 

Windows:
```bash
py -3 -m venv env 
```
```bash
. venv/Scripts/activate
```
macOS/Linux:
```bash
python3 -m venv .venv
```
```bash
source env/bin/activate
```
**Установка зависимостей**:
```bash
pip install -r requirements.txt
```

**Поднятие контейнеров**

Необходимо перейти в директорию c docker-compose.yaml файлом и выполнить следующую команду:

```bash
docker compose up -d
```

Флаг ```-d``` вернет управление в терминал. 

**Запуск тестов**:

Необходимо перейти в директорию с тестами и ввести команду:

```bash
pytest
```

**Формирование отчета с помощью Allure**

В проекте лежит файл pytest.ini, в котором определены настройки определяющие директорию для сохранения результатов работы Allure. 
Такой директорией является allure-results, которая всегда очищается при следующем запуске тестов. 

Таким образом, для получения и просмотра отчета после отработки тестов необходимо выполнить следующие команды:

Генерация отчета:
```bash
allure generate allure-results --clean -o allure-report
```
Просмотр отчета:
```bash
allure open allure-report
```

Название директории для формирования отчета можно выбрать произвольно.

**ВАЖНО!** Allure предварительно должен быть установлен в вашей системе. 

## Справка

Так как у меня в распоряжении не было n-го количества машин/серверов, я решил, что наиболее простым решением для демонстрации работы Selenium Grid будет использование Docker, которое к тому же в сравнении с другими вариантами оказалось наиболее простым в настройке. 
Кроме того, контейнеризация упростит запуск и проверку в том числе и для вас.

CSV файл с результатами работы появится в той же директории, что и тесты. 

В случае возникновения проблем, контейнеры всегда можно остановить и удалить следующими командами:

Остановка контейнеров:
```bash
docker compose stop 
```

Остановка и удаление:
```bash
docker compose down
```
